<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>LLM Sports Betting Benchmark</title>
  <style>
    body { font-family: 'Segoe UI', sans-serif; padding: 20px; background: #f4f4f4; }
    h1 { text-align: center; color: #2c3e50; }
    .leaderboard { margin-top: 30px; }
    table { width: 100%; border-collapse: collapse; margin-top: 10px; }
    th, td { border: 1px solid #ccc; padding: 10px; text-align: center; }
    th { background: #3498db; color: white; }
    .prediction { background: #ecf0f1; padding: 10px; margin-bottom: 10px; border-radius: 4px; }
    .win { color: green; font-weight: bold; }
    .loss { color: red; font-weight: bold; }
  </style>
</head>
<body>

  <h1>üéØ LLM Sports Betting Benchmark</h1>
  <p><strong>Last updated:</strong> <span id="last-update">Loading...</span></p>

  <!-- Leaderboard -->
  <div class="leaderboard">
    <h2>üèÜ Leaderboard (ROI)</h2>
    <table id="leaderboard-table">
      <tr><th>LLM</th><th>ROI (%)</th><th>Profit (‚Ç¨)</th></tr>
    </table>
  </div>

  <!-- Predictions by Round -->
  <h2>üìã Round 1 Predictions</h2>
  <div id="predictions-list"></div>

  <script>
    fetch('predictions.json')
      .then(res => res.json())
      .then(data => {
        document.getElementById('last-update').textContent = data.date;

        const predictionsList = document.getElementById('predictions-list');
        const leaderboardTable = document.getElementById('leaderboard-table');

        while (leaderboardTable.rows.length > 1) leaderboardTable.deleteRow(1);

        const roi = {};

        data.games.forEach(game => {
          const llm = game.llm;
          if (!roi[llm]) roi[llm] = { totalStake: 0, totalReturn: 0 };

          roi[llm].totalStake += game.stake;

          const result = data.results[game.match];
          if (game.prediction === result) {
            roi[llm].totalReturn += game.stake * game.odd;
          }

          const div = document.createElement('div');
          div.className = 'prediction';
          const status = game.prediction === result ? 'win' : 'loss';
          div.innerHTML = `
            <strong>${game.llm}</strong>: ${game.match} ‚Üí ${game.prediction} @ ${game.stake}‚Ç¨, odd ${game.odd} 
            <span class="${status}">${game.prediction === result ? '‚úÖ Win' : '‚ùå Loss'}</span>
          `;
          predictionsList.appendChild(div);
        });

        Object.keys(roi).forEach(llm => {
          const stake = roi[llm].totalStake;
          const returnAmount = roi[llm].totalReturn;
          const profit = returnAmount - stake;
          const roiPercent = ((profit / stake) * 100).toFixed(2);

          const row = leaderboardTable.insertRow();
          row.insertCell(0).textContent = llm;
          row.insertCell(1).textContent = `${roiPercent}%`;
          row.insertCell(2).textContent = `${profit.toFixed(2)}‚Ç¨`;
        });
      })
      .catch(err => console.error("Error loading ", err));
  </script>

</body>
</html>
